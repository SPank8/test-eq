{"name": "Сравнение HTML-ответов с двух серверов", "status": "failed", "statusDetails": {"message": "AssertionError: HTML ответы отличаются!\nassert '<!DOCTYPE ht...y>\\n</html>\\n' == '<!doctype ht.../body></html>'\n  - <!doctype html><html itemscope=\"\" itemtype=\"http://schema.org/WebPage\" lang=\"ru\"><head><meta content=\"&#1055;&#1086;&#1080;&#1089;&#1082; &#1080;&#1085;&#1092;&#1086;&#1088;&#1084;&#1072;&#1094;&#1080;&#1080; &#1074; &#1080;&#1085;&#1090;&#1077;&#1088;&#1085;&#1077;&#1090;&#1077;: &#1074;&#1077;&#1073; &#1089;&#1090;&#1088;&#1072;&#1085;&#1080;&#1094;&#1099;, &#1082;&#1072;&#1088;&#1090;&#1080;&#1085;&#1082;&#1080;, &#1074;&#1080;&#1076;&#1077;&#1086; &#1080; &#1084;&#1085;&#1086;&#1075;&#1086;&#1077; &#1076;&#1088;&#1091;&#1075;&#1086;&#1077;.\" name=\"description\"><me...\n  \n  ...Full output truncated (53 lines hidden), use '-vv' to show", "trace": "@allure.title(\"Сравнение HTML-ответов с двух серверов\")\n    @allure.description(\"Проверяем, что страницы REF и TARGET возвращают одинаковый HTML и статус код 200.\")\n    \n    def test_compare_html_responses():\n        url_ref = \"http://webtours.load-test.ru:1090/cgi-bin/nav.pl?in=home\"\n        url_target = \"http://google.com\"\n    \n        with allure.step(f\"GET запрос к REF: {url_ref}\"):\n            ref = requests.get(url_ref)\n            allure.attach(ref.text, name=\"REF Response (полный)\", attachment_type=allure.attachment_type.TEXT)\n            assert ref.status_code == 200, f\"REF вернул {ref.status_code}\"\n    \n        with allure.step(f\"GET запрос к TARGET: {url_target}\"):\n            target = requests.get(url_target)\n            allure.attach(target.text, name=\"TARGET Response (полный)\", attachment_type=allure.attachment_type.TEXT)\n            assert target.status_code == 200, f\"TARGET вернул {target.status_code}\"\n    \n        with allure.step(\"Сравнение HTML содержимого\"):\n            if ref.text != target.text:\n                allure.attach(ref.text, name=\"REF (diff)\", attachment_type=allure.attachment_type.TEXT)\n                allure.attach(target.text, name=\"TARGET (diff)\", attachment_type=allure.attachment_type.TEXT)\n>           assert ref.text == target.text, \"HTML ответы отличаются!\"\nE           AssertionError: HTML ответы отличаются!\nE           assert '<!DOCTYPE ht...y>\\n</html>\\n' == '<!doctype ht.../body></html>'\nE             - <!doctype html><html itemscope=\"\" itemtype=\"http://schema.org/WebPage\" lang=\"ru\"><head><meta content=\"&#1055;&#1086;&#1080;&#1089;&#1082; &#1080;&#1085;&#1092;&#1086;&#1088;&#1084;&#1072;&#1094;&#1080;&#1080; &#1074; &#1080;&#1085;&#1090;&#1077;&#1088;&#1085;&#1077;&#1090;&#1077;: &#1074;&#1077;&#1073; &#1089;&#1090;&#1088;&#1072;&#1085;&#1080;&#1094;&#1099;, &#1082;&#1072;&#1088;&#1090;&#1080;&#1085;&#1082;&#1080;, &#1074;&#1080;&#1076;&#1077;&#1086; &#1080; &#1084;&#1085;&#1086;&#1075;&#1086;&#1077; &#1076;&#1088;&#1091;&#1075;&#1086;&#1077;.\" name=\"description\"><me...\nE             \nE             ...Full output truncated (53 lines hidden), use '-vv' to show\n\ntests\\test_compare.py:25: AssertionError"}, "description": "Проверяем, что страницы REF и TARGET возвращают одинаковый HTML и статус код 200.", "steps": [{"name": "GET запрос к REF: http://webtours.load-test.ru:1090/cgi-bin/nav.pl?in=home", "status": "passed", "attachments": [{"name": "REF Response (полный)", "source": "caf85349-dc2e-4ec6-aa01-5f6fb8c0350e-attachment.txt", "type": "text/plain"}], "start": 1744724010674, "stop": 1744724010894}, {"name": "GET запрос к TARGET: http://google.com", "status": "passed", "attachments": [{"name": "TARGET Response (полный)", "source": "9ede0517-4ed1-4ebf-aa68-ea60c344004a-attachment.txt", "type": "text/plain"}], "start": 1744724010894, "stop": 1744724011118}, {"name": "Сравнение HTML содержимого", "status": "failed", "statusDetails": {"message": "AssertionError: HTML ответы отличаются!\nassert '<!DOCTYPE ht...y>\\n</html>\\n' == '<!doctype ht.../body></html>'\n  - <!doctype html><html itemscope=\"\" itemtype=\"http://schema.org/WebPage\" lang=\"ru\"><head><meta content=\"&#1055;&#1086;&#1080;&#1089;&#1082; &#1080;&#1085;&#1092;&#1086;&#1088;&#1084;&#1072;&#1094;&#1080;&#1080; &#1074; &#1080;&#1085;&#1090;&#1077;&#1088;&#1085;&#1077;&#1090;&#1077;: &#1074;&#1077;&#1073; &#1089;&#1090;&#1088;&#1072;&#1085;&#1080;&#1094;&#1099;, &#1082;&#1072;&#1088;&#1090;&#1080;&#1085;&#1082;&#1080;, &#1074;&#1080;&#1076;&#1077;&#1086; &#1080; &#1084;&#1085;&#1086;&#1075;&#1086;&#1077; &#1076;&#1088;&#1091;&#1075;&#1086;&#1077;.\" name=\"description\"><me...\n  \n  ...Full output truncated (53 lines hidden), use '-vv' to show\n", "trace": "  File \"D:\\Github\\eq\\test-eq\\tests\\test_compare.py\", line 25, in test_compare_html_responses\n    assert ref.text == target.text, \"HTML ответы отличаются!\"\n    \n"}, "attachments": [{"name": "REF (diff)", "source": "1e727cb5-c335-4d94-9ef7-d16d7cc3a606-attachment.txt", "type": "text/plain"}, {"name": "TARGET (diff)", "source": "bbd48ef3-4c1d-4501-ac07-5b056a7c3321-attachment.txt", "type": "text/plain"}], "start": 1744724011118, "stop": 1744724011121}], "start": 1744724010674, "stop": 1744724011122, "uuid": "49c6d48f-e9a2-4726-8f4c-28d9253f4b69", "historyId": "1f8d9c9a3f4d396bf269db341df8204b", "testCaseId": "1f8d9c9a3f4d396bf269db341df8204b", "fullName": "tests.test_compare#test_compare_html_responses", "labels": [{"name": "parentSuite", "value": "tests"}, {"name": "suite", "value": "test_compare"}, {"name": "host", "value": "DESKTOP-7H4UQS5"}, {"name": "thread", "value": "23144-MainThread"}, {"name": "framework", "value": "pytest"}, {"name": "language", "value": "cpython3"}, {"name": "package", "value": "tests.test_compare"}]}